(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"6TuL":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s=n("JU+T"),o={title:"Sorry",text:"",textClass:"",showMainButton:!0,mainButtonText:"OK",mainButtonColor:"green",mainButtonClass:"",showSecondaryButton:!1,secondaryButtonText:"",secondaryButtonClass:""},i=["buttonClose","isTitleCentered","destroyOnClose","closeOnEscape","closeOnOverlay","isAutoclose","autocloseTimeout","fullscreen","overlay","showTitle","callback","classes"],a=s.a.extend({content:'\n        <p class="notification_popup__text {{=textClass}}">{{=text}}</p>\n        {{ if (showMainButton) { }}\n            <button class="notification_popup__main_btn btn-{{=mainButtonColor}} {{=mainButtonClass}} j-main_button">\n                {{=mainButtonText}}\n            </button>\n        {{ } }}\n        {{ if (showSecondaryButton) { }}\n            <button class="notification_popup__secondary_btn {{=secondaryButtonClass}} j-popup__close_btn">\n                {{=secondaryButtonText}}\n            </button>\n        {{ } }}\n    ',events:{"click .j-main_button":"success",keydown:"onKeyDown"},onKeyDown:function(t){"keydown"===t.type&&13!==t.keyCode||this.success()},success:function(){this.trigger("success"),this.close()},popUpSettings:{buttonClose:"j-secondary_button",isTitleCentered:!0,showTitle:!0,fullscreen:!1,classes:{popup:"notification_popup"}}});function c(t){var e={};"popUpSettings"in t?_.extend(e,t.popUpSettings):_.extend(e,_.pick(t,i));var n=new Backbone.Model(_.extend({},o,t)),s=new a({model:n,popUpSettings:e});return new Promise((function(t,e){s.open(),s.once("success",t),s.once("close",e)}))}},"JU+T":function(t,e,n){"use strict";n("vxnP");var s=["open","close","change:title","change:content","change:spinner"],o=Backbone.View.extend({initialize:function(t){var e=this;this.settings=$.extend({},this.popUpSettings,t.popUpSettings),this.lightBox=new TPS.Lightbox2($(_.template(this.content)(this.model.toJSON())),this.settings),s.forEach((function(t){e.listenTo(e.lightBox,t,e.trigger.bind(e,t))})),this.lightBox.setTitle(this.model.get("title")),this.setElement(this.lightBox.$popup),this.model.on("change:title",(function(t,n){return e.lightBox.setTitle(n)}))},open:function(){this.lightBox.open()},close:function(){this.settings.destroyOnClose&&this.destroy(),this.lightBox.close()},addSpinner:function(){TPS.utils.addSpinner(this.$el)},removeSpinner:function(){TPS.utils.removeSpinner(this.$el)},destroy:$.noop});e.a=o},KINe:function(t,e,n){"use strict";function s(){$(".j-full_nav a[href='".concat(window.location.pathname,"']")).addClass("my_account_navigation__link-active")}n.d(e,"a",(function(){return s}))},LLcV:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var s=n("KINe"),o=n("Xapy"),i=n("6TuL"),a=Backbone.View.extend({el:".j-payment_details",initialize:function(){this.settings={form:".payment_details__form",card:".payment_details__item",removeButton:".payment_details__link",checkboxButton:".payment_details__input",classDefault:"default"},this.cards=$(this.settings.card)},events:{"click .j-payment_details__input":"selectCard","click .j-payment_details__link":"onDeleteBtnClick"},selectCard:function(t){var e=$(t.currentTarget).find(this.settings.checkboxButton);$(t.target).is(this.settings.removeButton)||e.attr("disabled")||(e.prop("checked",!0),this.updateDefaultCard(e))},updateDefaultCard:function(t){var e=$(t).parents(this.settings.card);this.cards.removeClass(this.settings.classDefault),e.addClass(this.settings.classDefault),$(this.settings.form).submit()},onDeleteBtnClick:function(t){t.preventDefault(),t.stopPropagation();var e=$(t.currentTarget).parents(this.settings.card).find(this.settings.removeButton).data("id");Object(i.a)({title:TPS.messages["redesign.account.payment.details.delete.payment.methods"],text:TPS.messages["redesign.account.payment.details.message"],mainButtonText:TPS.messages["redesign.account.payment.details.delete"],mainButtonClass:"Delete_payment_method",showSecondaryButton:!0,secondaryButtonText:TPS.messages["redesign.account.payment.details.cancel"],secondaryButtonClass:"Cancel",classes:{popup:"notification_popup payment_method_popup"}}).then((function(){$.csrfAjax(o.c.ACCOUNT_REMOVE_PAYMENT_METHOD,{paymentInfoId:e}).then((function(){return document.location.reload()}))}))}});function c(){s.a.call(this),new a}}}]);